(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[556],{14486:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(92068).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},19707:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});var s=a(4211),r=a(50848);let n=(0,s.v)()((0,r.Zr)((e,t)=>({isDark:!0,toggleTheme:()=>{let a=!t().isDark;e({isDark:a}),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setDark:t=>{e({isDark:t}),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),{name:"polyx-theme",onRehydrateStorage:()=>e=>{e&&(e.isDark?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}}))},24643:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(92068).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},25703:(e,t,a)=>{"use strict";a.d(t,{$g:()=>i,Wr:()=>o,ZV:()=>c,cn:()=>n,l9:()=>l});var s=a(72902),r=a(13714);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e>=1e9?(e/1e9).toFixed(t)+"B":e>=1e6?(e/1e6).toFixed(t)+"M":e>=1e3?(e/1e3).toFixed(t)+"K":e.toFixed(t)}function i(e){let t=Math.abs(e);return t>=1e3?e.toFixed(0):t>=100?e.toFixed(1):t>=1?e.toFixed(2):t>=.01?e.toFixed(4):t>=1e-4?e.toFixed(6):t>=1e-8?e.toFixed(8):t>0?e.toExponential(2):"0.00"}function l(e){return(e>=0?"+":"")+e.toFixed(2)+"%"}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}},32064:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(92068).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},42806:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var s=a(54568),r=a(7620),n=a(92068);let c=(0,n.A)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var i=a(14486);let l=(0,n.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=a(32064),d=a(65202),x=a(45234),m=a(24643),h=a(19707),u=a(25703),p=a(81989),g=a(15963),b=a(60657),f=a(97295),y=a(85821),j=a(36092),w=a(50773);let v=r.forwardRef(function({children:e,follow:t=!0,lockX:a=!1,lockY:s=!1,lockZ:n=!1,...c},i){let l=r.useRef(null),o=r.useRef(null),d=new w.Quaternion;return(0,p.D)(({camera:e})=>{if(!t||!o.current)return;let r=l.current.rotation.clone();o.current.updateMatrix(),o.current.updateWorldMatrix(!1,!1),o.current.getWorldQuaternion(d),e.getWorldQuaternion(l.current.quaternion).premultiply(d.invert()),a&&(l.current.rotation.x=r.x),s&&(l.current.rotation.y=r.y),n&&(l.current.rotation.z=r.z)}),r.useImperativeHandle(i,()=>o.current,[]),r.createElement("group",(0,j.A)({ref:o},c),r.createElement("group",{ref:l},e))});var k=a(28748),N=a(49140);function F(e){let{points:t,color:a,lineWidth:r=2}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.N,{points:t,color:a,lineWidth:r,transparent:!0,opacity:1}),(0,s.jsx)(b.N,{points:t,color:a,lineWidth:3*r,transparent:!0,opacity:.2})]})}function E(e){let{position:t,color:a}=e,n=(0,r.useRef)(null);return(0,p.D)(e=>{if(n.current){let t=1+.3*Math.sin(3*e.clock.elapsedTime);n.current.scale.setScalar(t)}}),(0,s.jsxs)("group",{position:t,children:[(0,s.jsxs)("mesh",{children:[(0,s.jsx)("sphereGeometry",{args:[.08,16,16]}),(0,s.jsx)("meshStandardMaterial",{color:a,emissive:a,emissiveIntensity:.5})]}),(0,s.jsxs)("mesh",{ref:n,children:[(0,s.jsx)("sphereGeometry",{args:[.15,16,16]}),(0,s.jsx)("meshBasicMaterial",{color:a,transparent:!0,opacity:.3})]})]})}function M(e){let{width:t,height:a,depth:r}=e;return(0,s.jsxs)("group",{children:[(0,s.jsxs)("mesh",{position:[t/2,a/2,-r/2],children:[(0,s.jsx)("planeGeometry",{args:[t+.5,a+.5]}),(0,s.jsx)("meshBasicMaterial",{color:"#0a0a0a",transparent:!0,opacity:.8})]}),(0,s.jsxs)("mesh",{position:[t/2,0,0],rotation:[-Math.PI/2,0,0],children:[(0,s.jsx)("planeGeometry",{args:[t+.5,r]}),(0,s.jsx)("meshBasicMaterial",{color:"#0a0a0a",transparent:!0,opacity:.5})]}),[.25,.5,.75,1].map(e=>(0,s.jsxs)("mesh",{position:[t/2,e*a,-r/2],children:[(0,s.jsx)("planeGeometry",{args:[t,.01]}),(0,s.jsx)("meshBasicMaterial",{color:"#FF6B4A",transparent:!0,opacity:.15})]},"h-".concat(e))),[.25,.5,.75,1].map(e=>(0,s.jsxs)("mesh",{position:[e*t,a/2,-r/2],rotation:[0,0,Math.PI/2],children:[(0,s.jsx)("planeGeometry",{args:[a,.01]}),(0,s.jsx)("meshBasicMaterial",{color:"#FF6B4A",transparent:!0,opacity:.1})]},"v-".concat(e))),[0,.5,1].map(e=>(0,s.jsx)(b.N,{points:[new w.Vector3(0,0,-e*r/2),new w.Vector3(t,0,-e*r/2)],color:"#FF6B4A",lineWidth:1,transparent:!0,opacity:.1},"d-".concat(e)))]})}function A(e){let{centerX:t,centerY:a,radius:n,enabled:c}=e,i=(0,r.useRef)(null);return(0,p.D)(e=>{if(!c||!i.current)return;let s=.3*e.clock.elapsedTime,r=t+Math.sin(s)*n,l=Math.cos(s)*n,o=a+1+.5*Math.sin(.5*e.clock.elapsedTime);i.current.position.set(r,o,l),i.current.lookAt(t,a,0)}),(0,s.jsx)(f.u,{ref:i,makeDefault:c,position:[t,a+1,n],fov:40})}function L(e){let{data:t,currentProbability:a,cameraMode:n}=e,{yesLinePoints:c,noLinePoints:i}=(0,r.useMemo)(()=>0===t.length?{yesLinePoints:[],noLinePoints:[]}:{yesLinePoints:t.map((e,a)=>{let s=a/Math.max(1,t.length-1)*8,r=(e.p-0)/1*3;return new w.Vector3(s,r,0)}),noLinePoints:t.map((e,a)=>{let s=a/Math.max(1,t.length-1)*8,r=1-e.p;return new w.Vector3(s,(r-0)/1*3,0)})},[t]),l=(0,r.useMemo)(()=>{let e=[];for(let t=0;t<=4;t++){let a=t/4*3,s=25*t;e.push({y:a,text:"".concat(s,"%")})}return e},[]),o=(0,r.useMemo)(()=>{if(0===t.length)return[];let e=[],a=Math.min(5,t.length);for(let s=0;s<a;s++){let r=Math.floor(s/(a-1||1)*(t.length-1)),n=t[r];if(!n)continue;let c=r/Math.max(1,t.length-1)*8,i=new Date(n.t).toLocaleDateString("en-US",{month:"short",day:"numeric"});e.push({x:c,text:i})}return e},[t]),d="#22c55e",x="#ef4444";return(0,s.jsxs)(s.Fragment,{children:["orbit"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.u,{makeDefault:!0,position:[4,1.5,10],fov:45}),(0,s.jsx)(y.N,{enablePan:!0,enableZoom:!0,enableRotate:!0,target:[4,1.5,0],minDistance:4,maxDistance:25,enableDamping:!0,dampingFactor:.1,touches:{ONE:w.TOUCH.ROTATE,TWO:w.TOUCH.DOLLY_PAN}})]}),"fly"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.u,{makeDefault:!0,position:[4,3.5,8],fov:40}),(0,s.jsx)(N.o,{enabled:!0,movementSpeed:10,lookSpeed:.002})]}),"auto"===n&&(0,s.jsx)(A,{centerX:4,centerY:1.5,radius:8,enabled:!0}),(0,s.jsx)("ambientLight",{intensity:.5}),(0,s.jsx)("directionalLight",{position:[5,10,5],intensity:.8}),(0,s.jsx)("pointLight",{position:[-5,5,-5],intensity:.3,color:"#FF6B4A"}),(0,s.jsx)("pointLight",{position:[8,3,5],intensity:.2,color:"#22c55e"}),(0,s.jsx)(M,{width:8,height:3,depth:2}),l.map((e,t)=>(0,s.jsx)(v,{position:[-.4,e.y,.5],follow:!0,children:(0,s.jsx)(k.E,{fontSize:.2,color:"#666666",anchorX:"right",anchorY:"middle",children:e.text})},"y-".concat(t))),o.map((e,t)=>(0,s.jsx)(v,{position:[e.x,-.4,.5],follow:!0,children:(0,s.jsx)(k.E,{fontSize:.18,color:"#888888",anchorX:"center",anchorY:"top",children:e.text})},"x-".concat(t))),c.length>1&&(0,s.jsx)(F,{points:c,color:d,lineWidth:3}),i.length>1&&(0,s.jsx)(F,{points:i,color:x,lineWidth:3}),c.length>0&&(0,s.jsx)(E,{position:c[c.length-1],color:d}),i.length>0&&(0,s.jsx)(E,{position:i[i.length-1],color:x}),void 0!==a&&c.length>0&&i.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{position:[c[c.length-1].x+.5,c[c.length-1].y,.5],follow:!0,children:(0,s.jsxs)(k.E,{fontSize:.2,color:d,anchorX:"left",anchorY:"middle",fontWeight:"bold",children:[Math.round(100*a),"% Yes"]})}),(0,s.jsx)(v,{position:[i[i.length-1].x+.5,i[i.length-1].y,.5],follow:!0,children:(0,s.jsxs)(k.E,{fontSize:.2,color:x,anchorX:"left",anchorY:"middle",fontWeight:"bold",children:[Math.round((1-a)*100),"% No"]})})]}),(0,s.jsx)(v,{position:[4,3.5,.5],follow:!0,children:(0,s.jsx)(k.E,{fontSize:.25,color:"#ffffff",anchorX:"center",anchorY:"middle",children:"Price History"})})]})}function S(e){let{data:t,isLoading:a,currentProbability:n,cameraMode:c="orbit"}=e,{isDark:i}=(0,h.C)(),[l,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>(o(!0),()=>o(!1)),[]),a&&0===t.length)?(0,s.jsx)("div",{className:"h-full w-full flex items-center justify-center ".concat(i?"bg-[#0a0a0a]":"bg-gray-50"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-[#FF6B4A] border-t-transparent"}),(0,s.jsx)("span",{className:"text-sm ".concat(i?"text-white/50":"text-gray-500"),children:"Loading chart..."})]})}):0===t.length?(0,s.jsx)("div",{className:"h-full w-full flex items-center justify-center text-sm ".concat(i?"bg-[#0a0a0a] text-white/40":"bg-gray-50 text-gray-400"),children:"No price history available"}):(0,s.jsxs)("div",{className:"h-full w-full relative ".concat(i?"bg-[#0a0a0a]":"bg-gray-50"),children:[(0,s.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px]",children:(0,s.jsx)("div",{className:"absolute inset-0 blur-[60px] animate-slow-spin ".concat(i?"":"opacity-50"),style:{background:"conic-gradient(from 0deg, #22c55e20, #ef444410, #22c55e10, #ef444420)"}})})}),l&&(0,s.jsx)(g.Hl,{gl:{antialias:!0,alpha:!0},children:(0,s.jsx)(r.Suspense,{fallback:null,children:(0,s.jsx)(L,{data:t,currentProbability:n,cameraMode:c})})})]})}let P=[{id:"all",label:"All"},{id:"sports",label:"Sports"},{id:"politics",label:"Politics"},{id:"crypto",label:"Crypto"},{id:"business",label:"Business"},{id:"pop-culture",label:"Culture"},{id:"science",label:"Science"}];function C(e){let{markets:t,onMarketClick:a,isDark:r}=e,n=t.slice(0,5);return 0===n.length?null:(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 px-4 mb-3",children:[(0,s.jsx)(c,{className:"h-4 w-4 text-[#FF6B4A]"}),(0,s.jsx)("span",{className:"text-sm font-semibold ".concat(r?"text-white":"text-gray-900"),children:"Hot Markets"})]}),(0,s.jsx)("div",{className:"flex gap-3 overflow-x-auto px-4 pb-2 snap-x snap-mandatory scrollbar-hide",children:n.map((e,t)=>{let n=e.outcomeProbabilities[0];return(0,s.jsx)("button",{onClick:()=>a(e),className:"flex-shrink-0 w-[280px] snap-start border overflow-hidden transition-all active:scale-[0.98] ".concat(r?"bg-gradient-to-br from-white/10 to-white/5 border-white/10":"bg-gradient-to-br from-white to-gray-50 border-gray-200 shadow-sm"),children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"px-2 py-1 bg-[#FF6B4A]/20 text-[11px] font-bold text-[#FF6B4A]",children:["#",t+1," Trending"]}),(0,s.jsxs)("span",{className:"text-[10px] ".concat(r?"text-white/40":"text-gray-400"),children:["$",(0,u.ZV)(e.volume)," vol"]})]}),(0,s.jsx)("p",{className:"text-sm font-medium line-clamp-2 mb-4 leading-snug ".concat(r?"text-white":"text-gray-900"),children:e.question}),(0,s.jsxs)("div",{className:"flex items-end justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-3xl font-bold ".concat(n>.5?"text-green-400":"text-red-400"),children:[Math.round(100*n),"%"]}),(0,s.jsx)("span",{className:"ml-1 text-xs ".concat(r?"text-white/50":"text-gray-500"),children:e.isMultiOutcome?e.outcomes[0].substring(0,15):"Yes"})]}),(0,s.jsx)(i.A,{className:"h-5 w-5 ".concat(r?"text-white/30":"text-gray-300")})]})]})},"hot-".concat(e.id,"-").concat(t))})})]})}function D(e){let{market:t,onExpand:a,isDark:r}=e,n=t.isMultiOutcome,c=t.outcomeProbabilities[0],l=t.outcomeProbabilities[1];return(0,s.jsx)("button",{onClick:a,className:"w-full text-left border overflow-hidden transition-all active:scale-[0.98] ".concat(r?"bg-white/5 border-white/10 active:bg-white/10":"bg-white border-gray-200 shadow-sm active:bg-gray-50"),children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-3",children:[(0,s.jsx)("h3",{className:"text-[15px] font-medium leading-snug flex-1 ".concat(r?"text-white":"text-gray-900"),children:t.question}),n&&(0,s.jsx)("span",{className:"flex-shrink-0 px-2 py-0.5 bg-blue-500/20 text-[10px] font-medium text-blue-400",children:t.outcomes.length})]}),n?(0,s.jsxs)("div",{className:"space-y-2 mb-3",children:[t.outcomes.slice(0,3).map((e,a)=>{let n=t.outcomeProbabilities[a];return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm truncate max-w-[60%] ".concat(r?"text-white/70":"text-gray-600"),children:e}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-16 h-1.5 overflow-hidden ".concat(r?"bg-white/10":"bg-gray-200"),children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400",style:{width:"".concat(100*n,"%")}})}),(0,s.jsxs)("span",{className:"text-sm font-semibold text-green-400 w-10 text-right",children:[Math.round(100*n),"%"]})]})]},a)}),t.outcomes.length>3&&(0,s.jsxs)("span",{className:"text-xs ".concat(r?"text-white/40":"text-gray-400"),children:["+",t.outcomes.length-3," more"]})]}):(0,s.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,s.jsxs)("div",{className:"flex-1 py-3 text-center ".concat(r?"bg-green-500/10":"bg-green-50"),children:[(0,s.jsxs)("span",{className:"block text-2xl font-bold text-green-400",children:[Math.round(100*c),"%"]}),(0,s.jsx)("span",{className:"block text-xs ".concat(r?"text-green-400/70":"text-green-600/70"),children:"Yes"})]}),(0,s.jsxs)("div",{className:"flex-1 py-3 text-center ".concat(r?"bg-red-500/10":"bg-red-50"),children:[(0,s.jsxs)("span",{className:"block text-2xl font-bold text-red-400",children:[Math.round(100*l),"%"]}),(0,s.jsx)("span",{className:"block text-xs ".concat(r?"text-red-400/70":"text-red-600/70"),children:"No"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t ".concat(r?"border-white/10":"border-gray-100"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"text-xs ".concat(r?"text-white/40":"text-gray-400"),children:["$",(0,u.ZV)(t.volume)," vol"]}),t.category&&(0,s.jsx)("span",{className:"px-2 py-0.5 bg-[#FF6B4A]/10 text-[#FF6B4A] text-[10px] font-medium",children:t.category})]}),(0,s.jsx)(i.A,{className:"h-4 w-4 ".concat(r?"text-white/30":"text-gray-300")})]})]})})}function B(e){let{market:t,priceHistories:a,loadingHistories:n,onFetchPriceHistory:c,onClose:i,isDark:d}=e,[x,m]=(0,r.useState)(0),h=t.outcomeProbabilities[x],p=t.outcomes[x],g="".concat(t.id,"-").concat(x),b=a[g]||[],f=n[g]||!1;(0,r.useEffect)(()=>{let e=t.outcomeTokenIds[x];e&&!a[g]&&c(e,g)},[x,t.id,t.outcomeTokenIds,g,a,c]);let y=Math.ceil((new Date(t.endDate).getTime()-Date.now())/864e5);return(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] ".concat(d?"bg-[#0a0a0a]":"bg-gray-50"),children:[(0,s.jsxs)("div",{className:"sticky top-0 z-10 px-4 py-3 flex items-center justify-between border-b safe-top ".concat(d?"bg-[#0a0a0a]/95 backdrop-blur-md border-white/10":"bg-white/95 backdrop-blur-md border-gray-200"),children:[(0,s.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 rounded-full transition-colors ".concat(d?"bg-white/10 hover:bg-white/20 active:bg-white/30":"bg-gray-100 hover:bg-gray-200 active:bg-gray-300"),children:[(0,s.jsx)(l,{className:"h-5 w-5 ".concat(d?"text-white":"text-gray-900")}),(0,s.jsx)("span",{className:"text-sm font-medium ".concat(d?"text-white":"text-gray-900"),children:"Back"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[t.category&&(0,s.jsx)("span",{className:"px-2 py-1 bg-[#FF6B4A]/20 text-[#FF6B4A] text-[10px] font-medium rounded-full",children:t.category}),(0,s.jsx)("a",{href:"https://polymarket.com/event/".concat(t.slug),target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full ".concat(d?"bg-white/10":"bg-gray-100"),children:(0,s.jsx)(o.A,{className:"h-5 w-5 ".concat(d?"text-white/60":"text-gray-500")})})]})]}),(0,s.jsxs)("div",{className:"h-[calc(100%-60px)] overflow-y-auto pb-6 safe-bottom",children:[(0,s.jsx)("div",{className:"px-4 py-4",children:(0,s.jsx)("h1",{className:"text-xl font-bold leading-tight ".concat(d?"text-white":"text-gray-900"),children:t.question})}),(0,s.jsxs)("div",{className:"flex gap-2 px-4 mb-4 overflow-x-auto scrollbar-hide",children:[(0,s.jsxs)("div",{className:"flex-shrink-0 px-4 py-3 ".concat(d?"bg-white/5":"bg-white shadow-sm"),children:[(0,s.jsx)("div",{className:"text-xs ".concat(d?"text-white/40":"text-gray-400"),children:"Volume"}),(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(d?"text-white":"text-gray-900"),children:["$",(0,u.ZV)(t.volume)]})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 px-4 py-3 ".concat(d?"bg-white/5":"bg-white shadow-sm"),children:[(0,s.jsx)("div",{className:"text-xs ".concat(d?"text-white/40":"text-gray-400"),children:"Liquidity"}),(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(d?"text-white":"text-gray-900"),children:["$",(0,u.ZV)(t.liquidity)]})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 px-4 py-3 ".concat(d?"bg-white/5":"bg-white shadow-sm"),children:[(0,s.jsx)("div",{className:"text-xs ".concat(d?"text-white/40":"text-gray-400"),children:"Ends"}),(0,s.jsx)("div",{className:"text-lg font-bold ".concat(d?"text-white":"text-gray-900"),children:y>0?"".concat(y,"d"):"Ended"})]})]}),(0,s.jsx)("div",{className:"mx-4 mb-4 h-[300px] overflow-hidden border ".concat(d?"border-white/10":"border-gray-200"),children:(0,s.jsx)(S,{data:b,isLoading:f,currentProbability:h,cameraMode:"orbit"})}),(0,s.jsx)("div",{className:"px-4 mb-4",children:(0,s.jsxs)("div",{className:"p-4 ".concat(d?"bg-white/5":"bg-white shadow-sm"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm ".concat(d?"text-white/60":"text-gray-500"),children:p}),(0,s.jsxs)("span",{className:"text-3xl font-bold text-green-400",children:[Math.round(100*h),"%"]})]}),(0,s.jsx)("div",{className:"w-full h-2 overflow-hidden ".concat(d?"bg-white/10":"bg-gray-200"),children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-500",style:{width:"".concat(100*h,"%")}})})]})}),t.isMultiOutcome&&(0,s.jsxs)("div",{className:"px-4 mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold mb-3 ".concat(d?"text-white":"text-gray-900"),children:"All Outcomes"}),(0,s.jsx)("div",{className:"overflow-hidden border ".concat(d?"border-white/10":"border-gray-200"),children:t.outcomes.map((e,a)=>{let r=t.outcomeProbabilities[a],n=a===x;return(0,s.jsxs)("button",{onClick:()=>m(a),className:(0,u.cn)("w-full flex items-center justify-between p-4 border-b last:border-b-0 transition-colors",d?"border-white/5":"border-gray-100",n?d?"bg-[#FF6B4A]/10":"bg-[#FF6B4A]/5":d?"bg-white/5 active:bg-white/10":"bg-white active:bg-gray-50"),children:[(0,s.jsx)("span",{className:(0,u.cn)("text-sm truncate max-w-[60%]",n?d?"text-white font-medium":"text-gray-900 font-medium":d?"text-white/70":"text-gray-600"),children:e}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:(0,u.cn)("text-sm font-bold",n?"text-green-400":d?"text-white/50":"text-gray-400"),children:[Math.round(100*r),"%"]}),n&&(0,s.jsx)("div",{className:"w-2 h-2 bg-[#FF6B4A]"})]})]},a)})})]}),!t.isMultiOutcome&&(0,s.jsxs)("div",{className:"px-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{disabled:!0,className:"flex-1 py-4 bg-green-500/10 border border-green-500/20 opacity-60 cursor-not-allowed",children:[(0,s.jsx)("span",{className:"block text-lg font-bold text-green-400",children:"Buy Yes"}),(0,s.jsxs)("span",{className:"block text-sm text-green-400/70",children:[Math.round(100*t.outcomeProbabilities[0]),"c"]})]}),(0,s.jsxs)("button",{disabled:!0,className:"flex-1 py-4 bg-red-500/10 border border-red-500/20 opacity-60 cursor-not-allowed",children:[(0,s.jsx)("span",{className:"block text-lg font-bold text-red-400",children:"Buy No"}),(0,s.jsxs)("span",{className:"block text-sm text-red-400/70",children:[Math.round(100*t.outcomeProbabilities[1]),"c"]})]})]}),(0,s.jsx)("p",{className:"text-center text-xs mt-2 ".concat(d?"text-white/40":"text-gray-400"),children:"Trading coming soon"})]}),t.description&&(0,s.jsxs)("div",{className:"px-4 mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold mb-2 ".concat(d?"text-white":"text-gray-900"),children:"About"}),(0,s.jsx)("p",{className:"text-sm leading-relaxed ".concat(d?"text-white/60":"text-gray-600"),children:t.description})]})]})]})}function q(){let{isDark:e}=(0,h.C)(),[t,a]=(0,r.useState)([]),[n,c]=(0,r.useState)({}),[i,l]=(0,r.useState)({}),[o,p]=(0,r.useState)(!0),[g,b]=(0,r.useState)(!1),[f,y]=(0,r.useState)(null),[j,w]=(0,r.useState)("all"),[v,k]=(0,r.useState)(null),[N,F]=(0,r.useState)(""),[E,M]=(0,r.useState)(!1),A=(0,r.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?b(!0):p(!0),y(null);try{let t="/api/polymarket?action=markets";e&&"all"!==e&&(t+="&category=".concat(e));let s=await fetch(t);if(!s.ok)throw Error("Failed to fetch markets");let r=await s.json();a(r)}catch(e){console.error("Error fetching markets:",e),y("Failed to load markets")}finally{p(!1),b(!1)}},[]),L=async(e,t)=>{l(e=>({...e,[t]:!0}));try{let a=await fetch("/api/polymarket?action=price-history&tokenId=".concat(e,"&interval=max"));if(a.ok){let e=await a.json();c(a=>({...a,[t]:e.history||[]}))}}catch(e){console.error("Error fetching price history for ".concat(t,":"),e)}finally{l(e=>({...e,[t]:!1}))}},S=e=>{k(e);let t=e.outcomeTokenIds[0],a="".concat(e.id,"-0");t&&!n[a]&&L(t,a)},q=t.filter(e=>""===N||e.question.toLowerCase().includes(N.toLowerCase()));return(0,r.useEffect)(()=>{A()},[A]),(0,s.jsxs)("div",{className:"min-h-screen pb-20 ".concat(e?"bg-[#0a0a0a]":"bg-gray-50"),children:[(0,s.jsxs)("div",{className:"px-4 pt-3 pb-2 ".concat(e?"bg-[#0a0a0a]":"bg-gray-50"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold ".concat(e?"text-white":"text-gray-900"),children:"Markets"}),(0,s.jsxs)("p",{className:"text-xs ".concat(e?"text-white/50":"text-gray-500"),children:[t.length," prediction markets"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>M(!E),className:"p-2.5 transition-colors ".concat(e?"bg-white/10 active:bg-white/20":"bg-white shadow-sm active:bg-gray-100"),children:(0,s.jsx)(d.A,{className:"h-5 w-5 ".concat(e?"text-white/70":"text-gray-600")})}),(0,s.jsx)("button",{onClick:()=>A(j,!0),disabled:g,className:"p-2.5 transition-colors ".concat(e?"bg-white/10 active:bg-white/20":"bg-white shadow-sm active:bg-gray-100"),children:(0,s.jsx)(x.A,{className:(0,u.cn)("h-5 w-5",e?"text-white/70":"text-gray-600",g&&"animate-spin")})})]})]}),E&&(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("input",{type:"text",value:N,onChange:e=>F(e.target.value),placeholder:"Search markets...",autoFocus:!0,className:"w-full px-4 py-3 text-sm ".concat(e?"bg-white/10 text-white placeholder-white/40 border border-white/10":"bg-white text-gray-900 placeholder-gray-400 border border-gray-200")})}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:P.map(t=>(0,s.jsx)("button",{onClick:()=>{var e;w(e=t.id),A(e)},className:(0,u.cn)("flex-shrink-0 px-4 py-2 text-sm font-medium transition-all active:scale-95",j===t.id?"bg-[#FF6B4A] text-white":e?"bg-white/10 text-white/70":"bg-white text-gray-600 shadow-sm"),children:t.label},t.id))})]}),o&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)("div",{className:"h-12 w-12 border-2 border-[#FF6B4A]/20 border-t-[#FF6B4A] animate-spin"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)(m.A,{className:"h-5 w-5 text-[#FF6B4A]"})})]}),(0,s.jsx)("span",{className:"text-sm ".concat(e?"text-white/50":"text-gray-500"),children:"Loading markets..."})]}),f&&!o&&(0,s.jsx)("div",{className:"mx-4 px-4 py-3 bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:f}),!o&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C,{markets:q,onMarketClick:S,isDark:e}),(0,s.jsx)("div",{className:"px-4 space-y-3",children:0===q.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 ".concat(e?"text-white/50":"text-gray-500"),children:[(0,s.jsx)(m.A,{className:"h-10 w-10 mb-3 opacity-40"}),(0,s.jsx)("p",{children:"No markets found"})]}):q.slice(5).map((t,a)=>(0,s.jsx)(D,{market:t,onExpand:()=>S(t),isDark:e},"list-".concat(t.id,"-").concat(a)))}),(0,s.jsx)("div",{className:"mt-6 px-4 py-4 text-center text-xs ".concat(e?"text-white/30":"text-gray-400"),children:"Data from Polymarket Gamma API"})]}),v&&(0,s.jsx)(B,{market:v,priceHistories:n,loadingHistories:i,onFetchPriceHistory:L,onClose:()=>k(null),isDark:e})]})}},45234:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(92068).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},49140:(e,t,a)=>{"use strict";a.d(t,{o:()=>c});var s=a(7620),r=a(81989),n=a(50773);function c(e){let{enabled:t,movementSpeed:a=15,lookSpeed:c=.002,onExit:i}=e,{camera:l,gl:o}=(0,r.C)(),d=(0,s.useRef)({forward:!1,backward:!1,left:!1,right:!1,up:!1,down:!1,speedUp:!1}),x=(0,s.useRef)(new n.Euler(0,0,0,"YXZ")),m=(0,s.useRef)(!1),h=(0,s.useRef)(null);(0,s.useEffect)(()=>{t&&(x.current.setFromQuaternion(l.quaternion),h.current||(h.current={position:l.position.clone(),quaternion:l.quaternion.clone()}))},[t,l]);let u=(0,s.useCallback)(e=>{if(t)switch(["KeyW","KeyA","KeyS","KeyD","KeyQ","KeyE","Space"].includes(e.code)&&e.preventDefault(),e.code){case"KeyW":d.current.forward=!0;break;case"KeyS":d.current.backward=!0;break;case"KeyA":d.current.left=!0;break;case"KeyD":d.current.right=!0;break;case"KeyQ":d.current.down=!0;break;case"KeyE":case"Space":d.current.up=!0;break;case"ShiftLeft":case"ShiftRight":d.current.speedUp=!0;break;case"Escape":document.pointerLockElement&&document.exitPointerLock(),null==i||i()}},[t,i]),p=(0,s.useCallback)(e=>{if(t)switch(e.code){case"KeyW":d.current.forward=!1;break;case"KeyS":d.current.backward=!1;break;case"KeyA":d.current.left=!1;break;case"KeyD":d.current.right=!1;break;case"KeyQ":d.current.down=!1;break;case"KeyE":case"Space":d.current.up=!1;break;case"ShiftLeft":case"ShiftRight":d.current.speedUp=!1}},[t]),g=(0,s.useCallback)(e=>{if(!t||!m.current)return;let a=e.movementX||0,s=e.movementY||0;x.current.y-=a*c,x.current.x-=s*c,x.current.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,x.current.x)),l.quaternion.setFromEuler(x.current)},[t,l,c]),b=(0,s.useCallback)(()=>{m.current=document.pointerLockElement===o.domElement,m.current},[o.domElement,t]),f=(0,s.useCallback)(()=>{console.error("Pointer lock error - fly mode may not work properly")},[]),y=(0,s.useCallback)(()=>{t&&!m.current&&o.domElement.requestPointerLock()},[t,o.domElement]);return(0,s.useEffect)(()=>{if(!t){d.current={forward:!1,backward:!1,left:!1,right:!1,up:!1,down:!1,speedUp:!1},document.pointerLockElement===o.domElement&&document.exitPointerLock();return}return document.addEventListener("keydown",u),document.addEventListener("keyup",p),document.addEventListener("mousemove",g),document.addEventListener("pointerlockchange",b),document.addEventListener("pointerlockerror",f),o.domElement.addEventListener("click",y),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",p),document.removeEventListener("mousemove",g),document.removeEventListener("pointerlockchange",b),document.removeEventListener("pointerlockerror",f),o.domElement.removeEventListener("click",y),document.pointerLockElement===o.domElement&&document.exitPointerLock()}},[t,o.domElement,u,p,g,b,f,y]),(0,r.D)((e,s)=>{if(!t)return;let r=(d.current.speedUp?2.5*a:a)*s,c=new n.Vector3,i=new n.Vector3,o=new n.Vector3(0,1,0);l.getWorldDirection(c),i.crossVectors(c,o).normalize();let x=new n.Vector3;d.current.forward&&x.add(c.clone().multiplyScalar(r)),d.current.backward&&x.add(c.clone().multiplyScalar(-r)),d.current.left&&x.add(i.clone().multiplyScalar(-r)),d.current.right&&x.add(i.clone().multiplyScalar(r)),d.current.up&&(x.y+=r),d.current.down&&(x.y-=r),l.position.add(x)}),null}},65202:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(92068).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},65827:(e,t,a)=>{Promise.resolve().then(a.bind(a,42806))}},e=>{e.O(0,[295,99,723,279,289,508,587,18,358],()=>e(e.s=65827)),_N_E=e.O()}]);