(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{8379:()=>{},14981:()=>{},19707:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});var r=a(4211),l=a(50848);let n=(0,r.v)()((0,l.Zr)((e,t)=>({isDark:!0,toggleTheme:()=>{let a=!t().isDark;e({isDark:a}),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setDark:t=>{e({isDark:t}),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),{name:"polyx-theme",onRehydrateStorage:()=>e=>{e&&(e.isDark?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}}))},19769:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(92068).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24783:module=>{var __dirname="/";!function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var a=0;a<e.length;a++)if(e[a]===t)return a;return -1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var a in e)t.push(a);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var a=0;a<e.length;a++)t(e[a],a,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,a){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:a})}}catch(e){return function(e,t,a){e[t]=a}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var a=t.contentWindow,r=a.eval,l=a.execScript;!r&&l&&(l.call(a,"null"),r=a.eval),forEach(Object_keys(e),function(t){a[t]=e[t]}),forEach(globals,function(t){e[t]&&(a[t]=e[t])});var n=Object_keys(a),c=r.call(a,this.code);return forEach(Object_keys(a),function(t){(t in e||-1===indexOf(n,t))&&(e[t]=a[t])}),forEach(globals,function(t){t in e||defineProp(e,t,a[t])}),document.body.removeChild(t),c},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),a=this.runInContext(t);return e&&forEach(Object_keys(t),function(a){e[a]=t[a]}),a},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var a=Script(t);return a[e].apply(a,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(a){t[a]=e[a]}),t}}};"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __nested_webpack_exports__={};__webpack_modules__[950](0,__nested_webpack_exports__),module.exports=__nested_webpack_exports__}()},27771:(e,t,a)=>{"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}a.d(t,{Wr:()=>r}),a(68800),a(83475),a(56203),a(60996).Buffer},27976:()=>{},34920:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(92068).A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},43319:(e,t,a)=>{"use strict";a.d(t,{Y:()=>N});var r=a(54568),l=a(19664),n=a.n(l),c=a(32536),s=a(27541),o=a(60844),i=a(19769),d=a(82455),b=a(80957),x=a(92568),h=a(51115),m=a(47573),u=a(6438),p=a(17023),f=a(34920),g=a(32064),w=a(70419),k=a(73407),y=a(19707),v=a(7620),j=a(27771);function N(){let e=(0,s.useRouter)(),t=(0,s.usePathname)(),{publicKey:a,isWalletReady:l,resetWallet:N,getSecretKey:A}=(0,k.G)(),{isDark:S,toggleTheme:C}=(0,y.C)(),[F,E]=(0,v.useState)(!1),[K,O]=(0,v.useState)(!1),[W,B]=(0,v.useState)(!1),[M,_]=(0,v.useState)(!1),[L,R]=(0,v.useState)(null),[I,D]=(0,v.useState)(!1),[T,z]=(0,v.useState)(!1),[P,U]=(0,v.useState)(null),[J,q]=(0,v.useState)(!1),[V,X]=(0,v.useState)(""),[Z,G]=(0,v.useState)(""),[H,Y]=(0,v.useState)(!1),[Q,$]=(0,v.useState)(null),[ee,et]=(0,v.useState)(null),ea=(0,v.useRef)(null),er=(0,v.useCallback)(async()=>{if(a){q(!0);try{let e=await fetch("/api/trading/balance?wallet=".concat(a));if(e.ok){let t=await e.json();U(t)}}catch(e){console.error("Failed to fetch balance:",e)}finally{q(!1)}}},[a]);(0,v.useEffect)(()=>{l&&a&&er()},[l,a,er]),(0,v.useEffect)(()=>{function e(e){ea.current&&!ea.current.contains(e.target)&&O(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let el=()=>{O(!1),N(),e.push("/")},en=()=>{O(!1),D(!0),B(!0),R(A()),D(!1)},ec=()=>{O(!1),X(""),G(""),$(null),et(null),_(!0),er()},es=async()=>{L&&(await navigator.clipboard.writeText(L),z(!0),setTimeout(()=>z(!1),2e3))},eo=async()=>{if(V&&Z&&a){Y(!0),$(null),et(null);try{let e=A();if(!e)throw Error("Could not retrieve wallet key");let t=await fetch("/api/trading/withdraw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destinationAddress:V,amount:Z,tokenMint:null,fromWallet:a,privateKey:e})}),r=await t.json();if(!t.ok)throw Error(r.error||"Withdrawal failed");et("Sent ".concat(Z," SOL successfully!")),X(""),G(""),er(),r.explorerUrl&&window.open(r.explorerUrl,"_blank")}catch(e){$(e instanceof Error?e.message:"Withdrawal failed")}finally{Y(!1)}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 px-3 md:px-10 lg:px-16 pt-[max(8px,env(safe-area-inset-top))] pb-2",children:(0,r.jsxs)("div",{className:"max-w-[1600px] mx-auto flex items-center justify-between gap-2",children:[(0,r.jsxs)("nav",{className:"h-9 md:h-11 flex items-center gap-0.5 md:gap-1 px-1 md:px-1.5 rounded-full border backdrop-blur-sm ".concat(S?"bg-white/5 border-white/10":"bg-black/5 border-black/10"),children:[(0,r.jsx)(n(),{href:"/pulse",className:"h-7 md:h-9 flex items-center justify-center px-3 md:px-5 rounded-full text-xs md:text-sm font-medium transition-colors ".concat("/pulse"===t?S?"text-white bg-white/15":"text-black bg-black/10":S?"text-white/60 hover:text-white hover:bg-white/10":"text-black/60 hover:text-black hover:bg-black/10"),children:"Pulse"}),(0,r.jsx)(n(),{href:"/dashboard",className:"h-7 md:h-9 flex items-center justify-center px-3 md:px-5 rounded-full text-xs md:text-sm font-medium transition-colors ".concat("/dashboard"===t||"/"===t?S?"text-white bg-white/15":"text-black bg-black/10":S?"text-white/60 hover:text-white hover:bg-white/10":"text-black/60 hover:text-black hover:bg-black/10"),children:"Dashboard"}),(0,r.jsx)(n(),{href:"/markets",className:"h-7 md:h-9 flex items-center justify-center px-3 md:px-5 rounded-full text-xs md:text-sm font-medium transition-colors ".concat("/markets"===t?S?"text-white bg-white/15":"text-black bg-black/10":S?"text-white/60 hover:text-white hover:bg-white/10":"text-black/60 hover:text-black hover:bg-black/10"),children:"Markets"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 md:gap-2",children:[a&&(0,r.jsxs)("button",{onClick:ec,className:"h-9 md:h-11 flex items-center gap-1.5 md:gap-2 rounded-full border backdrop-blur-sm px-2.5 md:px-4 transition-colors ".concat(S?"bg-white/5 border-white/10 hover:bg-white/10":"bg-black/5 border-black/10 hover:bg-black/10"),title:"View wallet",children:[(0,r.jsx)(c.default,{src:"/solana-logo.png",alt:"Solana",width:14,height:14,className:"rounded-full md:w-[18px] md:h-[18px]"}),(0,r.jsx)("span",{className:"text-xs md:text-sm font-semibold ".concat(S?"text-white":"text-black"),children:J?(0,r.jsx)(o.A,{className:"h-3 w-3 md:h-4 md:w-4 animate-spin"}):P?P.sol.uiBalance.toFixed(2):"0.00"})]}),a&&(0,r.jsxs)("div",{className:"relative",ref:ea,children:[(0,r.jsx)("button",{onClick:()=>O(!K),className:"h-9 w-9 md:h-11 md:w-11 flex items-center justify-center rounded-full border backdrop-blur-sm transition-colors ".concat(S?"bg-white/5 border-white/10 hover:bg-white/10":"bg-black/5 border-black/10 hover:bg-black/10"),children:(0,r.jsx)("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-gradient-to-br from-[#FF6B4A] to-[#FF8F6B] flex items-center justify-center",children:(0,r.jsx)(i.A,{className:"h-3 w-3 md:h-4 md:w-4 text-white"})})}),K&&(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl border backdrop-blur-md shadow-xl overflow-hidden ".concat(S?"bg-[#1a1a1a]/95 border-white/10":"bg-white/95 border-black/10"),children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b ".concat(S?"border-white/10":"border-black/10"),children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate ".concat(S?"text-white":"text-black"),children:"My Wallet"}),(0,r.jsx)("p",{className:"text-xs mt-1 font-mono ".concat(S?"text-white/40":"text-black/40"),children:(0,j.Wr)(a)})]}),(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsxs)("button",{onClick:ec,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors ".concat(S?"text-white/70 hover:text-white hover:bg-white/5":"text-black/70 hover:text-black hover:bg-black/5"),children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),"Wallet"]}),(0,r.jsxs)("button",{onClick:en,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors ".concat(S?"text-white/70 hover:text-white hover:bg-white/5":"text-black/70 hover:text-black hover:bg-black/5"),children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),"Security"]}),(0,r.jsxs)("button",{onClick:()=>{C(),O(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-colors ".concat(S?"text-white/70 hover:text-white hover:bg-white/5":"text-black/70 hover:text-black hover:bg-black/5"),children:[S?(0,r.jsx)(x.A,{className:"h-4 w-4"}):(0,r.jsx)(h.A,{className:"h-4 w-4"}),S?"Light Mode":"Dark Mode"]}),(0,r.jsxs)("button",{onClick:el,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),"Reset Wallet"]})]})]})]})]})]})}),M&&(0,r.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>_(!1)}),(0,r.jsxs)("div",{className:"relative w-full max-w-md border rounded-2xl shadow-2xl ".concat(S?"bg-[#1a1a1a] border-white/10":"bg-white border-black/10"),children:[(0,r.jsx)("div",{className:"p-6 border-b ".concat(S?"border-white/10":"border-black/10"),children:(0,r.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2 ".concat(S?"text-white":"text-black"),children:[(0,r.jsx)(d.A,{className:"h-5 w-5 text-[#FF6B4A]"}),"Wallet"]})}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 rounded-xl border ".concat(S?"bg-white/5 border-white/10":"bg-black/5 border-black/10"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("p",{className:"text-sm ".concat(S?"text-white/60":"text-black/60"),children:"Balance"}),(0,r.jsx)("button",{onClick:er,disabled:J,className:"text-xs transition-colors ".concat(S?"text-white/40 hover:text-white":"text-black/40 hover:text-black"),children:J?(0,r.jsx)(o.A,{className:"h-3 w-3 animate-spin"}):"Refresh"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(c.default,{src:"/solana-logo.png",alt:"Solana",width:32,height:32,className:"rounded-full"}),(0,r.jsxs)("p",{className:"text-2xl font-bold ".concat(S?"text-white":"text-black"),children:[P?P.sol.uiBalance.toFixed(4):"0.0000"," SOL"]})]})]}),(0,r.jsxs)("div",{className:"p-4 rounded-xl border ".concat(S?"bg-white/5 border-white/10":"bg-black/5 border-black/10"),children:[(0,r.jsx)("p",{className:"text-sm mb-2 ".concat(S?"text-white/60":"text-black/60"),children:"Deposit Address"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"font-mono text-xs break-all text-[#FF6B4A] flex-1",children:a}),(0,r.jsx)("button",{onClick:async()=>{a&&(await navigator.clipboard.writeText(a),E(!0),setTimeout(()=>E(!1),2e3))},className:"p-2 rounded-lg transition-colors ".concat(S?"hover:bg-white/5":"hover:bg-black/5"),children:F?(0,r.jsx)(u.A,{className:"h-4 w-4 text-green-400"}):(0,r.jsx)(p.A,{className:"h-4 w-4 ".concat(S?"text-white/40":"text-black/40")})})]}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat(S?"text-white/30":"text-black/30"),children:"Send SOL to this address to deposit"})]}),(0,r.jsxs)("div",{className:"p-4 rounded-xl border ".concat(S?"bg-white/5 border-white/10":"bg-black/5 border-black/10"),children:[(0,r.jsx)("p",{className:"text-sm mb-3 ".concat(S?"text-white/60":"text-black/60"),children:"Withdraw SOL"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs mb-1 block ".concat(S?"text-white/40":"text-black/40"),children:"Destination Address"}),(0,r.jsx)("input",{type:"text",value:V,onChange:e=>X(e.target.value),placeholder:"Solana wallet address...",className:"w-full px-3 py-2 rounded-lg border outline-none text-sm font-mono ".concat(S?"bg-black/30 text-white border-white/10 focus:border-[#FF6B4A]/50":"bg-white text-black border-black/10 focus:border-[#FF6B4A]/50")})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs mb-1 ".concat(S?"text-white/40":"text-black/40"),children:[(0,r.jsx)("label",{children:"Amount (SOL)"}),(0,r.jsx)("button",{onClick:()=>G((null==P?void 0:P.sol.uiBalance.toString())||"0"),className:"text-[#FF6B4A] hover:underline",children:"MAX"})]}),(0,r.jsx)("input",{type:"number",value:Z,onChange:e=>G(e.target.value),placeholder:"0.0",className:"w-full px-3 py-2 rounded-lg border outline-none text-sm ".concat(S?"bg-black/30 text-white border-white/10 focus:border-[#FF6B4A]/50":"bg-white text-black border-black/10 focus:border-[#FF6B4A]/50")})]}),Q&&(0,r.jsx)("p",{className:"text-xs text-red-400 bg-red-500/10 p-2 rounded",children:Q}),ee&&(0,r.jsx)("p",{className:"text-xs text-green-400 bg-green-500/10 p-2 rounded",children:ee}),(0,r.jsx)("button",{onClick:eo,disabled:!V||!Z||H,className:"w-full py-2.5 rounded-lg font-medium text-sm transition-colors flex items-center justify-center gap-2 ".concat(V&&Z&&!H?"bg-[#FF6B4A] text-white hover:bg-[#FF8F6B]":"bg-white/10 text-white/40 cursor-not-allowed"),children:H?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),"Withdraw"]})})]})]}),a&&(0,r.jsxs)("a",{href:"https://solscan.io/account/".concat(a),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 text-sm transition-colors ".concat(S?"text-white/40 hover:text-white":"text-black/40 hover:text-black"),children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),"View on Solscan"]})]}),(0,r.jsx)("div",{className:"p-6 border-t ".concat(S?"border-white/10":"border-black/10"),children:(0,r.jsx)("button",{onClick:()=>_(!1),className:"w-full font-medium py-2.5 rounded-lg transition-colors ".concat(S?"bg-white/5 hover:bg-white/10 border border-white/10 text-white":"bg-black/5 hover:bg-black/10 border border-black/10 text-black"),children:"Close"})})]})]}),W&&(0,r.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>B(!1)}),(0,r.jsxs)("div",{className:"relative w-full max-w-md border rounded-2xl shadow-2xl ".concat(S?"bg-[#1a1a1a] border-white/10":"bg-white border-black/10"),children:[(0,r.jsx)("div",{className:"p-6 border-b ".concat(S?"border-white/10":"border-black/10"),children:(0,r.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2 ".concat(S?"text-white":"text-black"),children:[(0,r.jsx)(w.A,{className:"h-5 w-5 text-[#FF6B4A]"}),"Security"]})}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[a&&(0,r.jsxs)("div",{className:"p-4 rounded-xl border ".concat(S?"bg-white/5 border-white/10":"bg-black/5 border-black/10"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)(c.default,{src:"/solana-logo.png",alt:"Solana",width:20,height:20,className:"rounded-full"}),(0,r.jsx)("p",{className:"text-sm font-medium ".concat(S?"text-white":"text-black"),children:"Wallet Address"})]}),(0,r.jsx)("p",{className:"font-mono text-xs break-all select-all rounded-lg p-3 ".concat(S?"text-white/60 bg-black/30":"text-black/60 bg-black/5"),children:a})]}),a&&(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-red-500/5 border border-red-500/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)(b.A,{className:"h-5 w-5 text-red-400"}),(0,r.jsx)("p",{className:"text-sm font-medium text-red-400",children:"Private Key"})]}),(0,r.jsx)("p",{className:"text-xs mb-3 ".concat(S?"text-white/50":"text-black/50"),children:"Warning: Never share your private key with anyone. Anyone with your private key can access your funds."}),I?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs ".concat(S?"text-white/40":"text-black/40"),children:[(0,r.jsx)(o.A,{className:"h-3 w-3 animate-spin"}),"Loading..."]}):L?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"font-mono text-xs break-all select-all rounded-lg p-3 ".concat(S?"text-white/60 bg-black/30":"text-black/60 bg-black/5"),children:L}),(0,r.jsx)("button",{onClick:es,className:"flex items-center gap-2 text-xs text-red-400 hover:text-red-300 transition-colors",children:T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{className:"h-3 w-3"}),"Copied!"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"h-3 w-3"}),"Copy Private Key"]})})]}):(0,r.jsx)("p",{className:"text-xs italic ".concat(S?"text-white/40":"text-black/40"),children:"Failed to load private key. Please try again."})]})]}),(0,r.jsx)("div",{className:"p-6 border-t ".concat(S?"border-white/10":"border-black/10"),children:(0,r.jsx)("button",{onClick:()=>B(!1),className:"w-full font-medium py-2.5 rounded-lg transition-colors ".concat(S?"bg-white/5 hover:bg-white/10 border border-white/10 text-white":"bg-black/5 hover:bg-black/10 border border-black/10 text-black"),children:"Close"})})]})]})]})}},47573:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(92068).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},51115:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(92068).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},60844:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(92068).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},73407:(e,t,a)=>{"use strict";a.d(t,{G:()=>k});var r=a(4211),l=a(50848),n=a(68800),c=a(83475),s=a(99070),o=a(12379);let i="polyx_mobile_wallet",d="polyx_wallet_setup_complete";function b(){let e=s.we(128),t=s.kw(e),a="m/44'/501'/0'/0'",r=(0,o.derivePath)(a,t.toString("hex")).key,l=n.AX.fromSeed(r);return{publicKey:l.publicKey.toBase58(),secretKey:c.A.encode(l.secretKey),mnemonic:e}}function x(e){if(!s.JB(e.trim().toLowerCase()))return null;let t=e.trim().toLowerCase(),a=s.kw(t),r="m/44'/501'/0'/0'",l=(0,o.derivePath)(r,a.toString("hex")).key,i=n.AX.fromSeed(l);return{publicKey:i.publicKey.toBase58(),secretKey:c.A.encode(i.secretKey),mnemonic:t}}function h(e,t){let a="";for(let r=0;r<e.length;r++)a+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r%t.length));return btoa(a)}function m(e,t){let a=atob(e),r="";for(let e=0;e<a.length;e++)r+=String.fromCharCode(a.charCodeAt(e)^t.charCodeAt(e%t.length));return r}function u(){let e=navigator.userAgent,t=navigator.language;return"polyx-".concat(e.length,"-").concat(t)}function p(e){let t=u(),a={publicKey:e.publicKey,encryptedSecretKey:h(e.secretKey,t),createdAt:Date.now()};localStorage.setItem(i,JSON.stringify(a)),localStorage.setItem(d,"true")}function f(){let e=localStorage.getItem(i);if(!e)return null;try{let t=JSON.parse(e),a=u(),r=m(t.encryptedSecretKey,a);return{publicKey:t.publicKey,secretKey:r}}catch(e){return null}}function g(){localStorage.removeItem(i),localStorage.removeItem(d)}function w(e){return s.JB(e.trim().toLowerCase())}let k=(0,r.v)()((0,l.Zr)((e,t)=>({publicKey:null,isWalletReady:!1,isOnboarding:!0,onboardingStep:"terms",tempMnemonic:null,backupConfirmed:!1,termsAccepted:!1,biometricsEnabled:!1,initializeWallet:()=>{let a=f(),r=t();a?e({publicKey:a.publicKey,isWalletReady:!0,isOnboarding:!1,onboardingStep:"complete"}):r.termsAccepted?e({isOnboarding:!0,onboardingStep:"welcome"}):e({isOnboarding:!0,onboardingStep:"terms"})},createNewWallet:()=>{let t=b();return e({tempMnemonic:t.mnemonic,publicKey:t.publicKey,onboardingStep:"backup"}),p(t),t},restoreWallet:t=>{if(!w(t))return!1;let a=x(t);return!!a&&(p(a),e({publicKey:a.publicKey,isWalletReady:!0,isOnboarding:!1,onboardingStep:"complete",tempMnemonic:null,backupConfirmed:!0}),!0)},confirmBackup:()=>{e({backupConfirmed:!0})},setOnboardingStep:t=>{e({onboardingStep:t})},completeOnboarding:()=>{e({isWalletReady:!0,isOnboarding:!1,onboardingStep:"complete",tempMnemonic:null})},resetWallet:()=>{g(),e({publicKey:null,isWalletReady:!1,isOnboarding:!0,onboardingStep:"terms",tempMnemonic:null,backupConfirmed:!1,termsAccepted:!1,biometricsEnabled:!1})},getSecretKey:()=>{let e=f();return(null==e?void 0:e.secretKey)||null},acceptTerms:()=>{e({termsAccepted:!0,onboardingStep:"welcome"})},setBiometricsEnabled:t=>{e({biometricsEnabled:t})}}),{name:"polyx-mobile-wallet",partialize:e=>({publicKey:e.publicKey,isWalletReady:e.isWalletReady,isOnboarding:e.isOnboarding,backupConfirmed:e.backupConfirmed,termsAccepted:e.termsAccepted,biometricsEnabled:e.biometricsEnabled})}))},80957:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(92068).A)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},92568:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(92068).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},94893:()=>{}}]);